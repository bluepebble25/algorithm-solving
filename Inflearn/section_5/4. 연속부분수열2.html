<html>
  <head>
    <meta charset="UTF-8" />
    <title>출력결과</title>
  </head>
  <body>
    <script>
      /*
        1. 오른쪽으로 계속 늘린다. 오른쪽 포인터가 1 증가할 때마다 연속부분집합은 p2-p1+1개 생김
        2. 만약 M보다 크면 계속 sum -= arr[p1++]을 한다. (while문)
        while문 다음에도 부분수열의 개수를 구해야 하므로 개수 정산은 while문 뒤에 놓도록 하자.
      */
      function solution(M, arr) {
        let count = 0;
        let p1 = 0;
        let sum = 0;

        for (let p2 = 0; p2 < arr.length; p2++) {
          sum += arr[p2];
          while (sum > M) {
            sum -= arr[p1++];
          }
          count += p2 - p1 + 1;
        }

        return count;
      }

      let arr = [1, 3, 1, 2, 3];
      console.log(solution(5, arr));
    </script>
  </body>
</html>
